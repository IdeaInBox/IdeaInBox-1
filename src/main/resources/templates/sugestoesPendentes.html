<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" lang="pt-br">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
<title>Sugestões Pendentes</title>

<!--Fonte-->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap"
rel="stylesheet">
<!-- Bootstrap-->
<link
href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
rel="stylesheet"
integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
crossorigin="anonymous">
	
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
crossorigin="anonymous"></script>
	
<!-- Configurações nossas -->
<link rel="stylesheet" href="css/barra_navegacao.css">
<link rel="stylesheet" href="css/sugestoesmaisvotadas.css">

<!-- Fontawesome -->
<script src="https://kit.fontawesome.com/b77074ccd5.js" crossorigin="anonymous"></script>
</head>
<body>

<header>
	<div class="container" id="nav-container">
		<nav class="navbar navbar-expand-lg fixed-top">
		<a href="#" class="navbar-brand"> <img id="logo" src="img/MicrosoftTeams-image-removebg-preview-Branco.png" alt="IdeaBox"></a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-links" aria-controls="navbar-links" aria-expanded="false" aria-label="Toogle navigation">
		<span class="navbar-toggler-icon"></span></button>
				<div class="collapse navbar-collapse justify-content-end"
					id="navbar-links">
					<div class="navbar-nav">
					 <a class="nav-item nav-link" id="home-menu" href="http:/">Home</a>
           <a class="nav-item nav-link" id="about-menu" href="/login">Login</a>
           <a class="nav-item nav-link" id="services-menu" href="/cadastrarColaborador">Cadastrar Colaborador</a>
           <a class="nav-item nav-link" id="team-menu" href="http:/timeline">Timeline</a>
           <a class="nav-item nav-link" id="contact-menu" href="/profile">Perfil</a>
           <a class="nav-item nav-link" id="exit-menu" href="/logout" >Sair</a>
					</div>
          <div class="tema">
          <button class="btn btn-light" onclick="mudaTema()"><i class="fas fa-moon"></i></button>
          </div>
				</div>
			</nav>
		</div>
	</header>
  <main>
   <h1>Sugestões pendentes de análise</h1>
	<div class="container-fluid">
    <fieldset>
    <table class="table table-info table-striped">

   <thead>
    <tr>
      <th scope="col">Sugestão</th>
      <th scope="col">Categoria</th>
      <th scope="col"  class="col-1">Ações</a></th>

    </tr>
  </thead>
  <tbody>
   <tr th:each="sugestao : ${sugestoes}">
      <td><span th:text="${sugestao.texto}"></span></td>    
      <td><span th:text="${sugestao.categoria}"></span></td>
      <td><div class="icons">
      <a th:href="${(#mvc.url('SC#aprovarSugestao').arg(0, sugestao.id)).build()}"><i class="fas fa-check" data-bs-toggle="tooltip" data-bs-placement="rigth" title="Aprovar Sugestão"></i></a>
	    <a  th:href="${(#mvc.url('SC#reprovarSugestao').arg(0, sugestao.id)).build()}"><i class="fas fa-times" data-bs-toggle="tooltip" data-bs-placement="rigth" title="Reprovar Sugestão"></i></a>
	    <button type="button" class="btn btn-secundary" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@mdo"><i class="far fa-envelope" data-bs-toggle="tooltip" data-bs-placement="rigth" title="FeedBack para Colaborador"></i></button>
	    <span data-bs-toggle="tooltip" data-bs-placement="rigth" title="Anexar Analise da Sugestão"><a href="#"><i class="fas fa-file-upload"></i></a></span></div></td>
	  <div class="col">
      <!--Start Modal-->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">

      </tr>
  </thead>
  <tbody>
   <tr th:each="sugestao : ${sugestoes}">
    <!--Start MODAL FILE -->
 
   <div class="modal fade" th:id="*{'anexoModal' + {sugestao.id}}" tabindex="-1" aria-labelledby="anexoModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="anexoModalLabel">Anexar arquivo</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form method="post" action="/upload" enctype="multipart/form-data">
        <div class="mb-3">
       
       <input type="hidden" th:value="*{sugestao.id}" class="form-control" name="id" >
    <label for="exampleInputPassword1" class="form-label">Faça upload do arquivo</label>
  <label for="formFile" class="form-label">Default file input example</label>
  <input class="form-control" type="file" id="formFile" name="file">
</div>
  </div>
     
      <div class="modal-footer">
       
       <button type="submit" class="btn btn-secondary">Confirmar</button>
        <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Fechar</button>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- End Modal File -->

       <td><span th:text="${sugestao.texto}"></span></td>    
       <td><span th:text="${sugestao.categoria}"></span></td>
       <td><div class="icons">
       <a th:href="${(#mvc.url('SC#aprovarSugestao').arg(0, sugestao.id)).build()}"><i class="fas fa-check" data-bs-toggle="tooltip" data-bs-placement="rigth" title="Aprovar Sugestão"></i></a>
	   <a  th:href="${(#mvc.url('SC#reprovarSugestao').arg(0, sugestao.id)).build()}"><i class="fas fa-times" data-bs-toggle="tooltip" data-bs-placement="rigth" title="Reprovar Sugestão"></i></a>
	   <button type="button" class="btn btn-secundary" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@mdo"><i class="far fa-envelope" data-bs-toggle="tooltip" data-bs-placement="rigth" title="FeedBack para Colaborador"></i></button>
	   <span data-bs-toggle="tooltip" data-bs-placement="rigth" title="Anexar Estudo de Viabilidade"><button type="button" class="btn1" data-bs-toggle="modal" th:attr="data-bs-target='#anexoModal' +*{sugestao.id}" ><i class="fas fa-file-upload"></i></button></span>
	   <button type="button" class="btn1" data-bs-toggle="modal" th:attr="data-bs-target='#editarModal' +*{sugestao.id}"><i class="far fa-edit" data-bs-toggle="tooltip" data-bs-placement="left" title="Editar"></i></button></div></td>
	   
	  
	  <!-- Start MODAL EMAIL -->
	   <div class="col">
     <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
       <h5 class="modal-title" id="exampleModalLabel">Retorno</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="/enviarEmail">
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Para: </label>
            <input type="text" class="form-control" id="recipient-name" th:value="${sugestao.colaborador.email}" name="email">
            <label for="recipient-name" class="col-form-label">E-mail: </label>
            <input type="text" class="form-control" id="recipient-name"  name="text">
          </div>
       </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Sair</button>
        <button type="submit" class="btn btn-secondary">Enviar</button>
        </form>
      </div>
    </div>
  </div>
</div>
  </div>
<!-- End Modal E-mail -->

 <!-- MODAL EDITAR -->
 <div class="modal fade" th:id="*{'editarModal' + {sugestao.id}}" tabindex="-1" aria-labelledby="editarModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editarModalLabel">Editar Sugestão</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form method="post" action="/editar">
        <div class="mb-3">
        <label for="id">Id</label>
       <input type="text" th:value="*{sugestao.id}" class="form-control" name="id" >
    <label for="exampleInputPassword1" class="form-label">Nova sugestão</label>
    <input type="texto" class="form-control" id="texto" name="texto">
  </div>
     
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Fechar</button>
       <button type="submit" class="btn btn-outline-success">Aceitar</button>
        </form>
      </div>
    </div>
  </div>
</div>

 <!--End  MODAL Editar-->
 </tr>
  </tbody>
</table>
</fieldset>
</div>
</main>
<script>function mudaTema() {document.body.classList.toggle("dark");}</script>
</body>
</html>